<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>SOFA Architecture Summary - Apache Kafka - Maciej's Dev Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="/articles/2025/06/17/sofa-architecture-summary-apache-kafka/">

        <meta name="author" content="Maciej" />
        <meta name="keywords" content="markdown,blog,sofa,cybersecurity,IT,security" />
        <meta name="description" content="Apache Kafka is a distributed streaming platform that acts as the central message broker in SOFA. Apache Kafka is designed to handle high-throughput, fault-tolerant streaming of data between systems. Do we need all the fancy fault-tolerant features of Apache Kafka? Probably not. However, it is a great learning experience for …" />

        <meta property="og:site_name" content="Maciej's Dev Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="SOFA Architecture Summary - Apache Kafka"/>
        <meta property="og:url" content="/articles/2025/06/17/sofa-architecture-summary-apache-kafka/"/>
        <meta property="og:description" content="Apache Kafka is a distributed streaming platform that acts as the central message broker in SOFA. Apache Kafka is designed to handle high-throughput, fault-tolerant streaming of data between systems. Do we need all the fancy fault-tolerant features of Apache Kafka? Probably not. However, it is a great learning experience for …"/>
        <meta property="article:published_time" content="2025-06-17" />
            <meta property="article:section" content="blog" />
            <meta property="article:tag" content="markdown" />
            <meta property="article:tag" content="blog" />
            <meta property="article:tag" content="sofa" />
            <meta property="article:tag" content="cybersecurity" />
            <meta property="article:tag" content="IT" />
            <meta property="article:tag" content="security" />
            <meta property="article:author" content="Maciej" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.simplex.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/monokai.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>




</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
Maciej's Dev Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="/pages/about/">
                             About
                          </a></li>
                         <li><a href="/pages/resume/">
                             Resume
                          </a></li>
                        <li class="active">
                            <a href="/category/blog">Blog</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/articles/2025/06/17/sofa-architecture-summary-apache-kafka/"
                       rel="bookmark"
                       title="Permalink to SOFA Architecture Summary - Apache Kafka">
                        SOFA Architecture Summary - Apache Kafka
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2025-06-17T12:55:00-06:00"> Tue 17 June 2025</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="/tag/markdown">markdown</a>
        /
	<a href="/tag/blog">blog</a>
        /
	<a href="/tag/sofa">sofa</a>
        /
	<a href="/tag/cybersecurity">cybersecurity</a>
        /
	<a href="/tag/it">IT</a>
        /
	<a href="/tag/security">security</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Apache Kafka is a distributed streaming platform that acts as the central message broker in SOFA. Apache Kafka is designed to handle high-throughput, fault-tolerant streaming of data between systems. Do we need all the fancy fault-tolerant features of Apache Kafka? Probably not. However, it is a great learning experience for students that work with SOFA. </p>
<p>Originally, the SOFA stack was the SOF stack, if we're going by acronyms. However, as Centurion Secured started to introduce more community partners with 10 gigabit connections we started getting errors in OpenSearch. The single-node cluster of the original deployment could not keep up. In the new deployment, I introduced Apache Kafka in between the physical collectors and OpenSearch. I think this really matured the pipeline. We were finally able to ingest multiple community partners who had 10 gigabit connections at their organizations.</p>
<h3>Apache Kafka's Role</h3>
<p>Earlier I mentioned that Centurion Secured ran into an issue when the project started onboarding more 10 gigabit connections. Apache Kafka is a platform that acts as the central message broker in a SOFA deployment. In the SOFA stack, Apache Kafka effectively serves as a buffer and distribution hub between FluentBit and OpenSearch. FluentBit parses Suricata's output, sends them to Apache Kafka, while OpenSearch consumes these messages for indexing and storage. This decoupling allows each component to operate at its own pace.</p>
<p>Apache Kafka guarantees that once a log is sent to Kafka, it won't be lost even if the individual collector goes down later. It also provides durability guarantees, a lot of the community partners that are a part of the Centurion Secured project are located in some very remote areas. Internet connectivity would be considered mid by people younger than me. That sort of functionality is crucial for security data where losing events could mean missing critical threats.</p>
<h3>Why Apache Kafka?</h3>
<p>Apache Kafka lends itself to make the acronym amusing. SOFA is more fun to say than SOFK. This acronym is also catchier. </p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="https://github.com/Xata"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
    <li class="list-group-item"><a href="https://www.linkedin.com/in/maciejwal/"><i class="fa fa-linkedin-square fa-lg"></i> LinkedIn</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2025 Maciej Wal
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>




</body>
</html>